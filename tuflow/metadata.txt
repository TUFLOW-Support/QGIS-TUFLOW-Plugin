# This file should be included when you package your plugin.

# Mandatory items:


[general]
name=TUFLOW
qgisMinimumVersion=3.6
description=A collection of utilities for TUFLOW flood and coastal simulation in QGIS
about=A collection of utilities for TUFLOW flood and coastal simulation in QGIS.
      Includes visualisation of results / inputs
      Editing tools
      Styling tools
version=3.1.8
author=Phillip Ryan, Ellis Symons, Pavlina Monhartova
email=support@tuflow.com

# end of mandatory metadata

# Optional items:

# Uncomment the following line and add your changelog entries:
changelog=--- 3.1.8 ---
          SWAN GIS Tools - Added tool as beta to plugin
          TUFLOW Viewer - fixed bug that could occur when 'min_' was in the result type name that caused results to not load properly - usually resulting from outputs from res_to_res.exe
          TUFLOW Viewer - fixed bug that would cause Python error when exporting or copying plot data containing null x values and a datetime axis
          TUFLOW Viewer - Fixed bug that could cause 1D velocity TS to not plot if several results with different number of output times were selected
          TUFLOW Viewer - Added 'Redock TUFLOW Viewer' option under Settings menu in case TUFLOW Viewer gets stuck as a floating window and unable to dock
          TUFLOW Viewer - Export animation tool can once again automatically download ffmpeg.exe for Windows
          TUFLOW Viewer - Time slider will update properly when user switches between results (previously required user to change time to get it to update)
          TUFLOW Viewer - Updated the plot right-click context menu signal unloading to try and stop errors occuring when upgrading the plugin
          TUFLOW Viewer - Rename result functionality broke in QGIS 3.20 due to Python version upgrade
          ARR Tool - removed qt4agg backend dependency for plot generation - this could produce a warning message after running the tool
          TUFLOW Styling - Tweaked Flood Modeller result styling
          TUFLOW Styling - Added styling for lfcsh_uvpt_check

          --- 3.1.7 ---
          Auto Label - Added auto label rules for the _messages GIS layer
          TUFLOW Viewer - Fixed a bug that could occur when exporting plot to csv
          TUFLOW Viewer - Now catch issue when plot is empty when exporting or copying data - also added more messaging
          TUFLOW Viewer - Fixed a bug that could occur if more than 6 results were loaded at once that would cause TUFLOW Viewer to hang indefinitely
          TUFLOW Viewer - Fixed bug that would cause problems if mesh layer was renamed in QGIS layer panel
          TUFLOW Viewer - Fixed bug with map output cross-section plotting that could occur when output timesteps precision was finer than 1 second
          TUFLOW Viewer - Changed behaviour of plot when using 'show current time' - the vertical bar no longer affects plot extents and won't force plot to refresh
          TUFLOW Viewer - Unchecking legend position will also turn plot legend off
          ARR to TUFLOW - Updated routine that collects rainfall data from BOM
          ARR to TUFLOW - Added all column headers to output bc_dbase.csv

          --- 3.1.6 ---
          ARR tool - Fix bug that would not calculate burst initial loss correctly with user specified loss and probability neutral loss
          ARR tool - Probability neutral losses and complete storm check boxes are now mutually exclusive options in dialog
          Load TUFLOW Layers from TCF - MIF layers will automatically open all geometry types without user prompt
          Load TUFLOW Layers from TCF - Raster layers will be automatically be given the projection of first loaded vector layer if it doesn't have one
          TUFLOW Viewer - Fixed bug in 'Remove - Map Outputs' that would remove the layer from QGIS but not from TUFLOW Viewer
          TUFLOW Viewer - Load FM time series results will now create cross-sections based on gxy file if not already georeferenced
          TUFLOW Viewer - Load FM time series results corrected fixed field error in reading dat file that would cause incorrect unit names
          TUFLOW Viewer - Fixed vertical profile plotting when adding to an animation
          TUFLOW Viewer - Fixed a few bugs in batch map export tool, mainly fixes for latest QGIS API
          TUFLOW Viewer - Fixed dat file loading
          TUFLOW Viewer - Fixed TUFLOW FV xmdf loading
          TUFLOW Viewer - Narrow view will now remember last docked location (if set as default layout)
          TUFLOW Viewer - Fixed bug - first time results are loaded, the times are offset by user's time zone
          TUFLOW Viewer - Batch export plots will now remove any mesh results when finished plotting from them that were loaded by the tool
          TUFLOW Viewer - Plot right-click context menu will no longer appear if plot pan or zoom tools are in use
          TUFLOW Viewer - Re-organised 'Settings >> Options' dialog box in a new tab layout
          TUFLOW Viewer - Added legend font size option, axis font size option, axis label font size option
          TUFLOW Viewer - Added option to set a default plot font size
          TUFLOW Viewer - Fixed a bug that would cause python error when user selected 'Show as dates' when 'show current time' was on and secondary axis was also in use
          TUFLOW Viewer - Fixed bug that would cause python error if user 'cleared plot' while in the middle of drawing a plot location
          TUFLOW Viewer - Added user defined plot background colour (in settings >> options)
          TUFLOW Viewer - Added more customisable legend options (position, orientation)
          TUFLOW Viewer - Exporting drawn plot lines / points to shp is now exported to a 2d_po format
          TUFLOW Viewer - Fixed axis mis-naming when plotting flow regime (was incorrectly using flow units)
          TUFLOW Viewer - Fixed bug when trying to plot with dates after toggling on/off secondary axis
          TUFLOW Viewer - Fixed bug in User Plot Data Manager that would cause issues if user changed dataset name
          TUFLOW Viewer - Fixed bug that would only display User Plot Data on time series plot (regardless of selected 'plot type')
          TUFLOW Viewer - Fixed bug that would cause python error when trying to view user plot data in manager if selection was on the 'plot type'
          TUFLOW Viewer - Fixed bug when loading from TLF that would prevent load if there were periods in file name

          --- 3.1.5.5 ---
          TUFLOW Viewer - Added plot value display when plot is clicked

          --- 3.1.5.4 ---
          ARR tool - fixed ARF for catchments less than 10km2 that caused python error (introduced in 3.1.5)

          --- 3.1.5.3 ---
          TUFLOW Viewer - Fixed bug that would cause python error when changing 'zero date'
          TUFLOW Viewer - Fixed bug that would cause python error if 1D 'losses' plot option was selected with a 2D plot object selected
          TUFLOW Viewer - Fixed bug that would make mesh disappear when switching between results if "show grid" was on
          Import Empty Tool - Fixed bug that would cause error if overwriting existing file
          Import Empty Tool - Fixed typo in error message "No Empty File T specified" should be "No Empty File specified"

          --- 3.1.5 ---
          SCS Curve number calculation and export to TUFLOW tool added (beta)
          ReFH2 tool - ReFH2 engine 2.3 option added
          ReFH2 tool - Added climate change options
          ReFH2 tool - Added urban area input option
          ReFH2 tool - Added version and BFIHOST19 input check
          ReFH2 tool - Added engine version option
          ARR tool - NSW datahub continuing loss multiplied by 0.4
          ARR tool - let users set event independent continuing loss
          ARR tool - now recognises NaN rainfall loss values from the datahub and sets losses to zero
          ARR tool - Fixed bug that miscalculated ARF for short durations for catchments between 1 - 10km2
          TUFLOW Viewer - Import FM timeseries results added
          TUFLOW Viewer - Fixed bug that would incorrectly flag layers as 1D cross section and cause QGIS to hang
          TUFLOW Viewer - Customising plot 'select axes' dialog has nicer labels 'primary axis' and 'secondary axis'
          TUFLOW Viewer - Minimums fixed for TUFLOW Classic results when importing XMDF
          TUFLOW Viewer - Fixed a bug in animation tool that would error when adding plots if current time was already displayed in time series plot window
          TUFLOW Viewer - Fixed an issue with connection signals trying to persist after tuflow viewer is completely closed
          TUFLOW Viewer - Fixed vertical profile plotting - broke with new python version
          TUFLOW Viewer - For QGIS 3.16+ TUFLOW viewer now adopts absolute time as default (internal workings - no change for users)
          TUFLOW Utilities tool - Fixed the downloader - exe location was not being correctly input
          TUFLOW Utilities tool - Made further improvements to error checking
          Import check files tool - Fixed bug in import all check files from a folder where it would duplicate layers
          Reload layer tool -  no longer produces an error for non-vector layers - it still only works for vector layers
          Many small bug fixes

          --- 3.1.4.1 ---
          Uninstalling plugin should now work unless the ReFH2 tool has been run

          --- 3.1.4 ---
          Prj string for shp files are retained with increment and import empty tools
          Maximums in TUFLOWFV dat files now handled
          Fixed bug that would cause python error when saving project after updating colour ramp options for curtain plots
          Utility download links updated to reflect new website
          Fixed bug in ARR tool that would cause tool to crash when using probability neutral losses

          ---  3.1.3 ---
          Fixed 'Close TUFLOW Viewer completely
          Fixed bug in curtain plots with quadtree results
          Further plugin unloading improvements
          Fixed a few bugs in batch export
          Fixed bug where saving a project would stop user from being able to change zero time (tuflow classic)

          ---  3.1.2.3 ---
          Mulitple curtain plots (lines and result types) now supported - useful for animations

          ---  3.1.2.2 ---
          Batch export plot now supports selecting results not yet loaded into QGIS

          ---  3.1.2.1  ---
          Fixed bug when curtain plotting TUFLOW FV results
          Fixed datetime bug in animation tool

          ---  3.1.2  ---
          XS viewer will now load null or blank entries
          Depth time series added
          Added reset all plot colours to settings menu
          Fixed issue with unloading plugin
          Fixed qgs temporal controller interaction
          Fixed errors when saving and loading project settings
          Fixed bug when plotting flow from cell centred netcdf results
          Fixed bug for QGIS 3.14+ when using small output intervals
          Fixed a couple of errors with loading default styles
          Fixed bug in animation tool when adding a plot with a secondary axis
          Fixed issue when loading in time series results with '[' in run name
          TUFLOW styling will check style folder first before applying any defaults

          ---  3.1.1  ---
          Fixed backward compatibility

          ---  3.1.0  ---
          Compatible with QGIS temporal controller
          Added new plotting types for 3D datasets
          Added Cross section viewing capabilities
          Added ability to load 1D hydraulic check files
          Added particle tracking loading / viewing
          Added further error checking / messaging to 1D integrity tool
          Fixed bug in ARR tool that would occur when adding additional temporal patterns with large catchments that required Areal TP
          Fixed minor bug with case sensitivity when loading results through TCF file
          Removed message window "appended .shp to output" from increment tool

# tags are comma separated with spaces allowed
tags=TUFLOW, simulation, flood, hydraulic modelling, MDAL, mesh, xmdf, dat, 2dm, Australian Rainfall & Runoff, ARR, ReFH2

homepage=https://wiki.tuflow.com/index.php?title=TUFLOW_QGIS_Plugin
tracker=https://github.com/TUFLOW-Support/QGIS-TUFLOW-Plugin/issues
repository=https://github.com/TUFLOW-Support/QGIS-TUFLOW-Plugin
icon=tuflow.png
# experimental flag
experimental=False

# deprecated flag (applies to the whole plugin, not just a single version)
deprecated=False

